<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			padding: 0;
			margin: 0;
		}
		html,body{
			height: 100%;
		}
		#container{
			height: 100%;
			width: 100%;
			background:url(img/bg.jpg) 0 0 repeat;
			position: relative;
		}
		#container .img{
			width: 125px;
			height: 125px;
			border: 5px solid #fff;
			position: absolute;
			left: -150px;
			top: -150px;
			-webkit-transition:all 1s ease;

		}

	</style>
</head>
<body>
	<div id="container">
		
	</div>
	<script>
		var oContainer = document.getElementById('container');
		var num = 0;
		for(i=0;i<24;i++){
			var oImg = new Image();
			oImg.onload = function(){
				num++;
				if(num == 48){
					loadSuccess();
				}
			}

		oImg.src = "img/"+(i+1)+".jpg";
		}
		for(i=0;i<24;i++){
			var oImg = new Image();
			oImg.onload = function(){
				num++;
				if(num == 48){
					loadSuccess();
				}
			}

		oImg.src = "img/thumbs/"+(i+1)+".jpg";
		}

		var index =0;
		function loadSuccess(){

			for(var i=0;i<4;i++ ){
				for(var j=0;j<6;j++){
					var oDiv = document.createElement('div');
					oDiv.className = 'img';

					oDiv.rowCol = {
							row:i,
							col:j
					}
				
					oDiv.style.background = 'url(img/thumbs/'+(index+1)+'.jpg) 0 0 repeat';
					oContainer.appendChild(oDiv);
					index++;
			}
		}

		var aDiv = oContainer.getElementsByTagName('div');
		var spaceX = (oContainer.offsetWidth-135*6)/7;
		var spaceY = (oContainer.offsetHeight-135*4)/5;

		for(i=0;i<aDiv.length;i++){
			aDiv[i].style.transitionDelay = (24-i)*100+"ms";
			aDiv[i].style.left = aDiv[i].rowCol.col*(spaceX+135)+spaceX+"px";
			aDiv[i].style.top = aDiv[i].rowCol.row*(spaceY+135)+spaceY+"px";

			aDiv[i].style.WebitTransform = 'rotate('+(Math.random()-0.5)*40+'deg)';
		}
	}


	</script>
</body>
</html>